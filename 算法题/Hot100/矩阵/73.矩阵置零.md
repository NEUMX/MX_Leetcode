# 73. 矩阵置零

### 解题思路（<font style="color:#DF2A3F;">利用矩阵的第一行和第一列作为标记位，记录哪些行和列需要置零，最后根据标记进行修改</font>。）
### 思路分析：
1. **第一步**：我们遍历矩阵，首先识别哪些行和列需要被置零。我们可以使用矩阵的第一行和第一列来存储这一信息。因为矩阵本身会被修改，如果我们直接修改矩阵元素，可能会影响其他元素的判断。所以我们将修改标记存储在第一行和第一列中，使用两个标记变量来判断是否需要修改第一行和第一列。
2. **第二步**：使用第一行和第一列的标记信息来修改矩阵。根据第一行和第一列的值决定相应行列的元素是否应该置为零。
3. **第三步**：最后，考虑第一行和第一列是否需要被置零。如果最初就有元素为零，那么我们需要将第一行和第一列整体置零。

### 具体步骤：
1. **使用第一行和第一列标记**：遍历整个矩阵，如果某个元素为 `0`，则将对应的第一行和第一列的元素标记为 `0`。
2. **根据标记修改矩阵**：再次遍历矩阵，利用第一行和第一列的标记信息，修改矩阵其他部分的值。
3. **特殊处理第一行和第一列**：最后判断第一行和第一列是否需要全部置零。

---

```java
public class Solution {
    public void setZeroes(int[][] matrix) {
        int m = matrix.length;  // 获取矩阵的行数
        int n = matrix[0].length;  // 获取矩阵的列数
        
        // 标记第一行和第一列是否需要置零
        boolean firstRowZero = false;
        boolean firstColZero = false;
        
        // 判断第一行是否有零
        for (int j = 0; j < n; j++) {
            if (matrix[0][j] == 0) {
                firstRowZero = true;  // 如果第一行有零，标记为true
                break;
            }
        }
        
        // 判断第一列是否有零
        for (int i = 0; i < m; i++) {
            if (matrix[i][0] == 0) {
                firstColZero = true;  // 如果第一列有零，标记为true
                break;
            }
        }
        
        // 从第二行第二列开始，检查每个元素是否为零
        // 如果是零，则将对应的第一行和第一列的位置标记为零
        for (int i = 1; i < m; i++) {
            for (int j = 1; j < n; j++) {
                if (matrix[i][j] == 0) {
                    matrix[i][0] = 0;  // 将该元素所在行的第一个元素置为0
                    matrix[0][j] = 0;  // 将该元素所在列的第一个元素置为0
                }
            }
        }
        
        // 根据第一行和第一列的信息修改矩阵
        for (int i = 1; i < m; i++) {
            for (int j = 1; j < n; j++) {
                if (matrix[i][0] == 0 || matrix[0][j] == 0) {
                    matrix[i][j] = 0;  // 如果第一行或第一列对应位置为0，则将当前元素置为0
                }
            }
        }
        
        // 最后处理第一行
        if (firstRowZero) {
            for (int j = 0; j < n; j++) {
                matrix[0][j] = 0;  // 如果第一行需要置零，将所有元素置为零
            }
        }
        
        // 最后处理第一列
        if (firstColZero) {
            for (int i = 0; i < m; i++) {
                matrix[i][0] = 0;  // 如果第一列需要置零，将所有元素置为零
            }
        }
    }
}

```

### 代码解析：
1. **标记第一行和第一列**：首先，我们判断第一行和第一列是否包含零。如果包含零，则设置 `firstRowZero` 和 `firstColZero` 为 `true`，用来最后处理第一行和第一列。
2. **记录需要置零的行列**：在遍历矩阵时，我们对每个元素进行检查。如果某个元素为零，我们就把它所在的行和列的第一行和第一列相应位置置零。
3. **根据标记修改矩阵**：再次遍历矩阵，查看第一行和第一列的标记，修改对应的行列元素为零。
4. **处理第一行和第一列**：根据第一行和第一列的标记，最后处理第一行和第一列，若需要就将它们全部置零。

### 时间复杂度和空间复杂度：
+ **时间复杂度**：O(m * n)，我们遍历了矩阵三次，每次遍历的时间复杂度都是 O(m * n)，因此总时间复杂度为 O(m * n)。
+ **空间复杂度**：O(1)，我们只使用了常数的额外空间（通过原地修改矩阵）。







> 更新: 2025-03-24 15:56:23  
> 原文: <https://www.yuque.com/neumx/ko4psh/ly75s5qh60koybu9>